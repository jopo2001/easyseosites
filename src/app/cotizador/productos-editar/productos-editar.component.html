<div class="p-4 bg-white rounded shadow-sm border" *ngIf="productoCargado">
  <h2 class="mb-4 text-dark fw-bold border-bottom pb-2">
    <i class="fas fa-pen me-2 text-primary"></i> Editar Producto
  </h2>

  <form (ngSubmit)="actualizarProducto()" #productoForm="ngForm">
    <!-- Tipo y nombre -->
    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Tipo</label>
        <select class="form-select" [(ngModel)]="producto.tipo" name="tipo" required>
          <option value="Lona">Lona</option>
          <option value="Aluminio">Aluminio</option>
          <option value="Policarbonato">Policarbonato</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Nombre</label>
        <input type="text" class="form-control" [(ngModel)]="producto.nombre" name="nombre" />
      </div>
    </div>

    <!-- Motor y costo -->
    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">¿Tiene motor?</label>
        <select class="form-select" [(ngModel)]="producto.motor" name="motor">
          <option value="si">Sí</option>
          <option value="no">No</option>
        </select>
      </div>
      <div class="col-md-6" *ngIf="producto.motor === 'si'">
        <label class="form-label">Costo Motor</label>
        <input type="number" class="form-control" [(ngModel)]="producto.costo_motor" name="costo_motor" />
      </div>
    </div>

    <!-- M² mínimo -->
    <div class="mb-3">
      <label class="form-label">M² Mínimo</label>
      <input type="number" class="form-control" [(ngModel)]="producto.min_metro_cuadrado" name="min_metro_cuadrado" required />
    </div>

    <!-- Color por defecto -->
    <div class="mb-3">
      <label class="form-label">Color por Defecto</label>
      <select class="form-select" [(ngModel)]="producto.color_default" name="color_default">
        <option *ngFor="let color of colores" [value]="color.color">{{ color.color }}</option>
      </select>
    </div>

    <!-- Colores Editables -->
<div class="border rounded p-3 mb-4 bg-light">
  <h5 class="mb-3 text-secondary">Colores Disponibles</h5>
  <div class="mb-2" *ngFor="let color of colores; let i = index">
    <div class="input-group">
      <input [(ngModel)]="colores[i].color" name="color{{i}}" class="form-control" placeholder="Nombre del color" />
      <button type="button" class="btn btn-outline-danger" (click)="eliminarColor(i)">
        <i class="fas fa-trash"></i>
      </button>
    </div>
  </div>
  <button type="button" class="btn btn-sm btn-outline-primary" (click)="agregarColor()">
    <i class="fas fa-plus"></i> Agregar color
  </button>
</div>


    <!-- Límites -->
    <div class="border rounded p-3 mb-4 bg-light">
      <h5 class="mb-3 text-secondary">Límites</h5>
      <div class="row">
        <div class="col"><label>Ancho Min</label>
          <input type="number" class="form-control" [(ngModel)]="limites.ancho_min" name="ancho_min" required />
        </div>
        <div class="col"><label>Ancho Max</label>
          <input type="number" class="form-control" [(ngModel)]="limites.ancho_max" name="ancho_max" required />
        </div>
        <div class="col"><label>Alto Min</label>
          <input type="number" class="form-control" [(ngModel)]="limites.alto_min" name="alto_min" required />
        </div>
        <div class="col"><label>Alto Max</label>
          <input type="number" class="form-control" [(ngModel)]="limites.alto_max" name="alto_max" required />
        </div>
      </div>
    </div>

    <!-- Botón -->
    <div class="text-end d-flex justify-content-end">
  <a routerLink="/productos" class="btn btn-outline-secondary me-2">
    <i class="fas fa-arrow-left me-1"></i> Volver a Productos
  </a>

  <button class="btn btn-success" type="submit" [disabled]="!productoForm.valid">
    <i class="fas fa-check-circle me-1"></i> Guardar Producto
  </button>
</div>

  </form>
</div>